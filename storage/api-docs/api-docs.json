{"openapi":"3.0.0","info":{"title":"Backend dev test API","description":"Testing purposes only","contact":{"email":"help@example.com"},"license":{"name":"Apache 2.0","url":"http:\/\/www.apache.org\/licenses\/LICENSE-2.0.html"},"version":"0.0.1"},"paths":{"\/auth\/login":{"post":{"tags":["authentication"],"summary":"Sign in","description":"Login by email and pasword","operationId":"5f97b0b779b0703be86d459affcfab7d","requestBody":{"$ref":"#\/components\/requestBodies\/auth_request_body"},"responses":{"200":{"description":"Success response","content":{"application\/json":{"schema":{"$ref":"#\/components\/schemas\/success_login"}}}},"400":{"description":"Bad Request","content":{"application\/json":{"schema":{"$ref":"#\/components\/schemas\/error_response"}}}}}}},"\/auth\/register":{"post":{"tags":["authentication"],"summary":"Register","description":"Register new user","operationId":"c9b58b13a55b40205edf4eb09ac67c28","requestBody":{"$ref":"#\/components\/requestBodies\/auth_request_body"},"responses":{"201":{"description":"Register succeed","content":{"application\/json":{"schema":{"$ref":"#\/components\/schemas\/success_register"}}}},"400":{"description":"Bad Request","content":{"application\/json":{"schema":{"$ref":"#\/components\/schemas\/error_response"}}}}}}},"\/auth\/me":{"post":{"tags":["authentication"],"summary":"Check login","description":"Check current user auth","operationId":"b1792ef7a863eeef17acc8ca9e7d5a87","responses":{"200":{"description":"Register succeed","content":{"application\/json":{"schema":{"$ref":"#\/components\/schemas\/success_me"}}}},"401":{"description":"Unauthorized","content":{"application\/json":{"schema":{"$ref":"#\/components\/schemas\/error_response"}}}}},"security":[{"bearer":[]}]}},"\/auth\/logout":{"post":{"tags":["authentication"],"summary":"Logout","description":"Logout user and revoke token","operationId":"58d1ecc839219c5113fa8849490ba6a9","responses":{"200":{"description":"Logout succeed","content":{"application\/json":{"schema":{"$ref":"#\/components\/schemas\/success_logout"}}}},"401":{"description":"Unauthorized","content":{"application\/json":{"schema":{"$ref":"#\/components\/schemas\/error_response"}}}}},"security":[{"bearer":[]}]}},"\/books":{"get":{"tags":["books"],"summary":"Find All Books","description":"A list of books","operationId":"65147b59f3885d601a454269444fa067","responses":{"200":{"description":"Success response","content":{"application\/json":{"schema":{"$ref":"#\/components\/schemas\/success_find_all_books"}}}},"401":{"description":"Unauthorized","content":{"application\/json":{"schema":{"$ref":"#\/components\/schemas\/error_response"}}}}},"security":[{"bearer":[]}]},"post":{"tags":["books"],"summary":"Create a new book","description":"Create a new book","operationId":"f4ccbda97c1e27f2b9ff0ac1ab8098c8","requestBody":{"$ref":"#\/components\/requestBodies\/book_request_body"},"responses":{"201":{"description":"Success response","content":{"application\/json":{"schema":{"$ref":"#\/components\/schemas\/success_create_a_new_book"}}}},"401":{"description":"Unauthorized","content":{"application\/json":{"schema":{"$ref":"#\/components\/schemas\/error_response"}}}}},"security":[{"bearer":[]}]}},"\/books\/{bookId}":{"get":{"tags":["books"],"summary":"Find one book","description":"Find one book by id","operationId":"c97c7217366e1cae28349eea5bfa2f17","parameters":[{"name":"bookId","in":"path","description":"ID of book","required":true,"example":"abcdef0123456789"}],"responses":{"200":{"description":"Success response","content":{"application\/json":{"schema":{"$ref":"#\/components\/schemas\/success_find_one_book"}}}},"401":{"description":"Unauthorized","content":{"application\/json":{"schema":{"$ref":"#\/components\/schemas\/error_response"}}}},"404":{"description":"Not found","content":{"application\/json":{"schema":{"$ref":"#\/components\/schemas\/error_response"}}}}},"security":[{"bearer":[]}]},"delete":{"tags":["books"],"summary":"Delete a book by id","description":"Delete a book by id","operationId":"a903a5023b20ca5318ef9f115a064cb9","parameters":[{"name":"bookId","in":"path","description":"ID of book","required":true,"example":"abcdef0123456789"}],"responses":{"204":{"description":"No content"},"401":{"description":"Unauthorized","content":{"application\/json":{"schema":{"$ref":"#\/components\/schemas\/error_response"}}}},"404":{"description":"Not found","content":{"application\/json":{"schema":{"$ref":"#\/components\/schemas\/error_response"}}}}},"security":[{"bearer":[]}]},"patch":{"tags":["books"],"summary":"Update a book by id","description":"Update a book by id","operationId":"336615363ad37ba7c5571f8568b4ac08","parameters":[{"name":"bookId","in":"path","description":"ID of book","required":true,"example":"abcdef0123456789"}],"requestBody":{"$ref":"#\/components\/requestBodies\/book_request_body"},"responses":{"200":{"description":"Success response","content":{"application\/json":{"schema":{"$ref":"#\/components\/schemas\/success_update_a_book"}}}},"401":{"description":"Unauthorized","content":{"application\/json":{"schema":{"$ref":"#\/components\/schemas\/error_response"}}}},"404":{"description":"Not found","content":{"application\/json":{"schema":{"$ref":"#\/components\/schemas\/error_response"}}}}},"security":[{"bearer":[]}]}},"\/firebase-books":{"get":{"tags":["firebase-books"],"summary":"Find All Books","description":"A list of books","operationId":"0556e9237aa9775fd19331cad1147c59","responses":{"200":{"description":"Success response","content":{"application\/json":{"schema":{"$ref":"#\/components\/schemas\/success_find_all_books"}}}},"401":{"description":"Unauthorized","content":{"application\/json":{"schema":{"$ref":"#\/components\/schemas\/error_response"}}}}},"security":[{"bearer":[]}]},"post":{"tags":["firebase-books"],"summary":"Create a new book","description":"Create a new book","operationId":"0da8576f72bfd94eecc903e6c84a4ab0","requestBody":{"$ref":"#\/components\/requestBodies\/book_request_body"},"responses":{"201":{"description":"Success response","content":{"application\/json":{"schema":{"$ref":"#\/components\/schemas\/success_create_a_new_book"}}}},"401":{"description":"Unauthorized","content":{"application\/json":{"schema":{"$ref":"#\/components\/schemas\/error_response"}}}}},"security":[{"bearer":[]}]}},"\/firebase-books\/{bookId}":{"get":{"tags":["firebase-books"],"summary":"Find one book","description":"Find one book by id","operationId":"32e5022efb992e2183af08aa5ccf6e51","parameters":[{"name":"bookId","in":"path","description":"ID of book","required":true,"example":"abcdef0123456789"}],"responses":{"200":{"description":"Success response","content":{"application\/json":{"schema":{"$ref":"#\/components\/schemas\/success_find_one_book"}}}},"401":{"description":"Unauthorized","content":{"application\/json":{"schema":{"$ref":"#\/components\/schemas\/error_response"}}}},"404":{"description":"Not found","content":{"application\/json":{"schema":{"$ref":"#\/components\/schemas\/error_response"}}}}},"security":[{"bearer":[]}]},"delete":{"tags":["firebase-books"],"summary":"Delete a book by id","description":"Delete a book by id","operationId":"27f94a7c0e202d79b4df21f189d4ddb3","parameters":[{"name":"bookId","in":"path","description":"ID of book","required":true,"example":"abcdef0123456789"}],"responses":{"204":{"description":"No content"},"401":{"description":"Unauthorized","content":{"application\/json":{"schema":{"$ref":"#\/components\/schemas\/error_response"}}}},"404":{"description":"Not found","content":{"application\/json":{"schema":{"$ref":"#\/components\/schemas\/error_response"}}}}},"security":[{"bearer":[]}]},"patch":{"tags":["firebase-books"],"summary":"Update a book by id","description":"Update a book by id","operationId":"458723de2257f8072b3ec89b549b8fca","parameters":[{"name":"bookId","in":"path","description":"ID of book","required":true,"example":"abcdef0123456789"}],"requestBody":{"$ref":"#\/components\/requestBodies\/book_request_body"},"responses":{"200":{"description":"Success response","content":{"application\/json":{"schema":{"$ref":"#\/components\/schemas\/success_update_a_book"}}}},"401":{"description":"Unauthorized","content":{"application\/json":{"schema":{"$ref":"#\/components\/schemas\/error_response"}}}},"404":{"description":"Not found","content":{"application\/json":{"schema":{"$ref":"#\/components\/schemas\/error_response"}}}}},"security":[{"bearer":[]}]}}},"components":{"schemas":{"Book":{"title":"Book","description":"Book model","properties":{"_id":{"title":"ID","description":"ID Book","type":"string","example":"abcdef0123456789"},"title":{"title":"Title","description":"Book title","type":"string","example":"Lorem ipsum"},"description":{"title":"Description","description":"Book description","type":"string","example":"Lorem ipsum"},"author":{"title":"Author","description":"Book author","type":"string","example":"Lorem ipsum"},"published_year":{"title":"Published year","description":"Book published year","type":"string","example":"2021"},"created_at":{"title":"Created at","description":"Created at","type":"string","format":"datetime","example":"2020-01-27 17:50:45"},"updated_at":{"title":"Updated at","description":"Updated at","type":"string","format":"datetime","example":"2020-01-27 17:50:45"}},"type":"object","xml":{"name":"Book"}},"User":{"title":"User","description":"User model","properties":{"_id":{"title":"ID","description":"ID User","type":"string","example":"abcdef0123456789"},"email":{"title":"Email","description":"Email User","type":"string","format":"email","example":"user@mail.com"},"created_at":{"title":"Created at","description":"Created at","type":"string","format":"datetime","example":"2020-01-27 17:50:45"},"updated_at":{"title":"Updated at","description":"Updated at","type":"string","format":"datetime","example":"2020-01-27 17:50:45"}},"type":"object","xml":{"name":"User"}},"AuthRequest":{"title":"Auth request","description":"Auth request body data","required":["email","password"],"properties":{"email":{"title":"email","description":"User email","type":"string","format":"email","example":"test@mail.com"},"password":{"title":"password","description":"User password","type":"string","format":"password","example":"12345678"}},"type":"object"},"BookRequest":{"title":"Book request","description":"Book request body data","required":["title","description","author","published_year"],"properties":{"title":{"title":"title","description":"Book title","type":"string","example":"Lorem ipsum"},"description":{"title":"description","description":"Book description","type":"string","example":"Lorem ipsum"},"author":{"title":"author","description":"Book author","type":"string","example":"Lorem ipsum"},"published_year":{"title":"published year","description":"Book published year","type":"string","example":"2021"}},"type":"object"},"success_login":{"description":"Success Login","properties":{"status":{"example":"Success"},"message":{"example":"Login succeed"},"data":{"properties":{"access_token":{"example":"jwt token"},"token_type":{"example":"bearer"},"expires_in":{"example":"in miliseconds"}},"type":"object"}},"type":"object"},"success_register":{"description":"Success Register","properties":{"status":{"example":"Success"},"message":{"example":"Register succeed"},"data":{"$ref":"#\/components\/schemas\/User"}},"type":"object"},"success_me":{"description":"User is authenticated","properties":{"status":{"example":"Success"},"message":{"example":"User is authenticated"},"data":{"$ref":"#\/components\/schemas\/User"}},"type":"object"},"success_logout":{"description":"Logout user and revoke token","properties":{"status":{"example":"Success"},"message":{"example":"Logout succeed"}},"type":"object"},"success_find_all_books":{"description":"Success find all books","properties":{"status":{"example":"Success"},"message":{"example":"A list of books"},"data":{"type":"array","items":{"$ref":"#\/components\/schemas\/Book"}}},"type":"object"},"success_find_one_book":{"description":"Success find one book","properties":{"status":{"example":"Success"},"message":{"example":"Book by id"},"data":{"$ref":"#\/components\/schemas\/Book"}},"type":"object"},"success_create_a_new_book":{"description":"Success create a new book","properties":{"status":{"example":"Success"},"message":{"example":"New book has been added"},"data":{"$ref":"#\/components\/schemas\/Book"}},"type":"object"},"success_update_a_book":{"description":"Success update a book","properties":{"status":{"example":"Success"},"message":{"example":"Book has been updated"},"data":{"$ref":"#\/components\/schemas\/Book"}},"type":"object"},"error_response":{"description":"Error Response","properties":{"status":{"example":"Error"},"message":{"example":"Error message"}},"type":"object"}},"requestBodies":{"auth_request_body":{"description":"auth_request","required":true,"content":{"application\/json":{"schema":{"$ref":"#\/components\/schemas\/AuthRequest"}}}},"book_request_body":{"description":"book_request","required":true,"content":{"application\/json":{"schema":{"$ref":"#\/components\/schemas\/BookRequest"}}}}},"securitySchemes":{"bearer":{"type":"http","description":"Authorization token obtained from logging in.","name":"Authorization","in":"header","scheme":"bearer"}}},"tags":[{"name":"authentication","description":"Authentication Controller"}]}